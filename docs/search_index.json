[
["index.html", "BIG DATA URBANA Herramientas y Datos para conocer el Territorio INTRODUCCIÓN", " BIG DATA URBANA Herramientas y Datos para conocer el Territorio Angie Scetta 2020-09-27 INTRODUCCIÓN ¡Hola a todos! ¡Bienvenidos a BIG DATA URBANA! En la era de las comunicaciones y la tecnología se producen millones de datos por segundo y hoy tenemos la posibilidad de aprovecharlos desde nuestra profesión para poder trabajar y tomar decisiones en base a evidencia real. El objetivo del curso es presentar a los profesionales interesados en analizar diversas variables territoriales (sociodemográficas, mercado inmobiliario, transporte, salud, educación, etc), la importancia de conocer herramientas analíticas que les permitan manipular y extraer conocimiento de grandes volúmenes de datos para tomar mejores decisiones a la hora de diagnosticar, comprender e intervenir el territorio. El curso será práctico y se enseñarán los conocimientos básicos del lenguaje de programación R y del software libre RStudio, y su potencialidad para el análisis de datos urbanos. A lo largo de 4 clases aplicaremos la herramienta a un ejemplo real, con el fin de analizar, describir, interpretar, visualizar y extraer conocimiento de datos existentes. El caso de estudio será el mercado inmobiliario en CABA y se utilizarán datos provenientes de fuentes públicas. Será un curso de 4 clases de 3hs donde se estima un 90% práctico y un 10% teórico. PROGRAMA Clase 1: CONOCER ¿Qué es la Ciencia de Datos? ¿Cómo utilizar grandes volúmenes de datos para analizar dinámicas urbanas? ¿Qué datos existen? Introducción a programación en lenguaje R y el software RStudio. Para esta clase será necesario tener previamente instalado el lenguaje de programación R (https://cloud.r-project.org/) , y la interfaz gráfica RStudio Desktop (https://rstudio.com/products/rstudio/download/). Clase 2: EXPLORAR Las funciones de tidyverse para manipular e interpretar los datos: Extraer información útil a partir de Seleccionar, Filtrar, Ordenar, Modificar y Resumir los datos. Clase 3: GRAFICAR Extraer conocimiento de los datos a partir de la visualización de los mismos. Comunicar resultados a partir de gráficos. Clase 4: MAPEAR Análisis espacial de los datos. Visualización a partir de mapas. "],
["conocer.html", "Clase 1 CONOCER", " Clase 1 CONOCER Hola a todos, ¡Bienvenidos a BIG DATA URBANA! A lo largo del curso trabajaremos con el formato RMarkdown que nos permitirá analizar y visualizar nuestros datos. Empecemos de a poco: Para crear un nuevo proyecto y un RMarkdown pueden seguir el siguiente tutorial: https://rpubs.com/angiescetta/conociendo-R Ahora si, ya podemos comenzar! ¿Para que sirve el formato RMawkdown? Este formato sirve para manipular datos y armar informes listos para presentar. Hay 2 formas de escribir en un RMarkdown: Texto como el que estoy escribiendo ahora. Bloques de código (o “chunks”) para analizar, modificar o visualizar datos. A lo largo del curso vamos a trabajar con los datos de Properati, un portal web de compra, venta y alquiler de inmuebles en toda América Latina. Estos datos son públicos y pueden encontrarlos en https://properati.com.ar/data. En este caso usaremos un set de datos de propiedades en AMBA con info de 3 meses del 2020: Mayo, Junio y Julio. Previamente procesados que pueden descargarse de https://data.world/angie-scetta/amba-properati Ahora si, manos a la obra! Carguemos el dataset descargado: Recomendación: Al descargarlo, moverlo de la carpeta “Descargas” a la carpeta del Proyecto donde estén trabajando. datos_amba &lt;- read.csv(&quot;data/amba_properati.csv&quot;) Y empecemos a conocer nuestro dataset, veamos como se estructura (cuantas filas y columnas tiene) y que información contiene. Para esto empezaremos utilizando dim(): dim(datos_amba) ## [1] 22040 13 Podemos ver que tenemos 22.040 registros/filas y 13 columnas, pero ¿qué contienen esas columnas? Veamoslo con names(): names(datos_amba) ## [1] &quot;created_on&quot; &quot;provincia&quot; &quot;partido&quot; ## [4] &quot;rooms&quot; &quot;surface_total&quot; &quot;surface_covered&quot; ## [7] &quot;price&quot; &quot;currency&quot; &quot;title&quot; ## [10] &quot;property_type&quot; &quot;operation_type&quot; &quot;lat&quot; ## [13] &quot;long&quot; Bien, las columnas tienen fecha de publicación de la propiedad, provincia y partido donde se ubica, cantidad de ambientes, superficie total y superficie cubierta, precio publicado, tipo de moneda (ARS o USD), el título que el usuario escribió al publicar su propiedad, el tipo de propiedad, el tipo de operación, y finalmente la ubicación del inmueble con sus coordenadas: latitud y longitud. Ahora veamos una pequeña muestra de la data con head(): head(datos_amba) ## created_on provincia partido rooms surface_total surface_covered ## 1 202005 GBA La Plata 8 840 325 ## 2 202005 CABA Comuna 5 2 48 46 ## 3 202005 GBA Escobar 2 165 65 ## 4 202005 CABA Comuna 14 2 55 50 ## 5 202005 CABA Comuna 1 2 60 55 ## 6 202005 CABA Comuna 6 2 51 45 ## price currency ## 1 85000 ARS ## 2 140000 USD ## 3 20000 ARS ## 4 48000 ARS ## 5 19000 ARS ## 6 25000 ARS ## title ## 1 San Facundo alquiler ## 2 Gascon al 100 ## 3 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 4 Fray Justo Santa Maria de Oro al 2800 ## 5 2 ambientes de 60 m2 con amenities ## 6 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## property_type operation_type lat long ## 1 Casa Alquiler -58.04245 -34.89847 ## 2 Departamento Venta -58.42453 -34.61118 ## 3 Departamento Alquiler -58.73963 -34.44330 ## 4 Departamento Alquiler -58.42125 -34.57589 ## 5 Departamento Alquiler -58.39047 -34.60833 ## 6 Departamento Alquiler -58.45344 -34.62673 Y un resúmen estadístico de la información: summary(datos_amba) ## created_on provincia partido rooms ## Min. :202005 CABA:13116 Comuna 14: 2961 Min. : 1.000 ## 1st Qu.:202005 GBA : 8924 Comuna 13: 1677 1st Qu.: 2.000 ## Median :202006 Tigre : 1605 Median : 3.000 ## Mean :202006 Comuna 15: 1595 Mean : 3.041 ## 3rd Qu.:202007 Comuna 2 : 1242 3rd Qu.: 4.000 ## Max. :202007 Comuna 1 : 1132 Max. :10.000 ## (Other) :11828 ## surface_total surface_covered price currency ## Min. : 10 Min. : 10.00 Min. : 10000 ARS: 4820 ## 1st Qu.: 50 1st Qu.: 45.00 1st Qu.: 71000 USD:17220 ## Median : 75 Median : 65.00 Median : 138000 ## Mean : 114 Mean : 90.78 Mean : 200688 ## 3rd Qu.: 128 3rd Qu.:105.00 3rd Qu.: 240000 ## Max. :5000 Max. :882.00 Max. :3000000 ## ## title ## Departamento de 2 ambientes en Venta en Villa crespo: 270 ## Departamento de 2 ambientes en Venta en Almagro : 190 ## Departamento de 2 ambientes en Venta en Palermo : 184 ## Departamento de 3 ambientes en Venta en Villa crespo: 179 ## Departamento de 3 ambientes en Venta en Almagro : 165 ## Departamento de 3 ambientes en Venta en Palermo : 162 ## (Other) :20890 ## property_type operation_type lat long ## Casa : 3349 Alquiler: 4820 Min. :-59.04 Min. :-35.12 ## Departamento:16819 Venta :17220 1st Qu.:-58.53 1st Qu.:-34.62 ## PH : 1872 Median :-58.45 Median :-34.59 ## Mean :-58.47 Mean :-34.59 ## 3rd Qu.:-58.41 3rd Qu.:-34.56 ## Max. :-57.83 Max. :-34.26 ## A priori, en este resumen podemos entender varias cosas de la data. Por ejemplo: Hay registros de propiedades publicadas entre Mayo (Min) y Julio (Max) 2020 La mayoría de las publicaciones son en CABA (13.116 vs 8.924) El Partido/Comuna que más aparece es la Comuna 14 (Barrio de Palermo) De las 3 tipologías de propiedades, lo que más hay es Departamentos, seguido por Casas y por último PHs. Hay más propiedades en Venta que en Alquiler (17.220 vs 4.820) Por último, investiguemos como es la estructura de la data, es decir que tipo de información tiene cada campo. Si bien algo ya nos imaginamos gracias al summary(), usemos str() para revisarlo: str(datos_amba) ## &#39;data.frame&#39;: 22040 obs. of 13 variables: ## $ created_on : int 202005 202005 202005 202005 202005 202005 202005 202005 202005 202005 ... ## $ provincia : Factor w/ 2 levels &quot;CABA&quot;,&quot;GBA&quot;: 2 1 2 1 1 1 1 1 2 2 ... ## $ partido : Factor w/ 50 levels &quot;Almirante Brown&quot;,..: 32 16 22 11 6 17 12 6 27 41 ... ## $ rooms : int 8 2 2 2 2 2 2 2 2 3 ... ## $ surface_total : int 840 48 165 55 60 51 62 90 50 80 ... ## $ surface_covered: int 325 46 65 50 55 45 48 70 45 80 ... ## $ price : int 85000 140000 20000 48000 19000 25000 110001 65000 93000 22000 ... ## $ currency : Factor w/ 2 levels &quot;ARS&quot;,&quot;USD&quot;: 1 2 1 1 1 1 2 1 2 1 ... ## $ title : Factor w/ 14745 levels &quot;- Casa Venta Tipo Chalet 5 Amb con Cochera - Villa Pueyrredo&quot;,..: 11726 8726 9564 8711 357 9214 5544 7570 1695 4291 ... ## $ property_type : Factor w/ 3 levels &quot;Casa&quot;,&quot;Departamento&quot;,..: 1 2 2 2 2 2 2 2 2 2 ... ## $ operation_type : Factor w/ 2 levels &quot;Alquiler&quot;,&quot;Venta&quot;: 1 2 1 1 1 1 2 1 2 1 ... ## $ lat : num -58 -58.4 -58.7 -58.4 -58.4 ... ## $ long : num -34.9 -34.6 -34.4 -34.6 -34.6 ... Hay varios tipos de datos, pero en nuestro set nos encontramos con 3: integer (int), numeric (num) y Factor. Ahora bien, ¿Qué significa eso? Integer son números enteros, es decir que el campo solo admite números sin decimales como por ejemplo metros cuadrados de propiedades, que siempre se calculan en metros y nunca se suman centímetros cuadrados. Numeric son números con decimales, como por ejemplo, latitud y longitud que siempre tienen decimales. Factor son categorías, por ejemplo Barrios, Partidos, Tipos de propiedades, etc. "],
["explorar.html", "Clase 2 EXPLORAR 2.1 FILTRAR 2.2 MODIFICAR 2.3 SELECCIONAR 2.4 RESUMIR", " Clase 2 EXPLORAR library(tidyverse) datos_amba &lt;- read.csv(&quot;data/amba_properati.csv&quot;) 2.1 FILTRAR a &lt;- filter(datos_amba, operation_type==&quot;Venta&quot;) filtro &lt;- filter(datos_amba, provincia==&quot;CABA&quot;) head(filtro) ## created_on provincia partido rooms surface_total surface_covered ## 1 202005 CABA Comuna 5 2 48 46 ## 2 202005 CABA Comuna 14 2 55 50 ## 3 202005 CABA Comuna 1 2 60 55 ## 4 202005 CABA Comuna 6 2 51 45 ## 5 202005 CABA Comuna 15 2 62 48 ## 6 202005 CABA Comuna 1 2 90 70 ## price currency ## 1 140000 USD ## 2 48000 ARS ## 3 19000 ARS ## 4 25000 ARS ## 5 110001 USD ## 6 65000 ARS ## title ## 1 Gascon al 100 ## 2 Fray Justo Santa Maria de Oro al 2800 ## 3 2 ambientes de 60 m2 con amenities ## 4 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## 5 Departamento de 2 ambientes en Venta en Villa crespo ## 6 EDIFICIO LUMIERE- Gran Categoría Piso 9 Duplex con terraza- Gran Vista y Estado ## property_type operation_type lat long ## 1 Departamento Venta -58.42453 -34.61118 ## 2 Departamento Alquiler -58.42125 -34.57589 ## 3 Departamento Alquiler -58.39047 -34.60833 ## 4 Departamento Alquiler -58.45344 -34.62673 ## 5 Departamento Venta -58.44857 -34.59535 ## 6 Departamento Alquiler -58.36275 -34.61561 filtro &lt;- filter(datos_amba, provincia==&quot;CABA&quot; &amp; partido==&quot;Comuna 5&quot;) head(filtro) ## created_on provincia partido rooms surface_total surface_covered price ## 1 202005 CABA Comuna 5 2 48 46 140000 ## 2 202005 CABA Comuna 5 1 50 50 30000 ## 3 202005 CABA Comuna 5 1 45 45 30000 ## 4 202005 CABA Comuna 5 2 40 40 88000 ## 5 202005 CABA Comuna 5 2 46 42 176904 ## 6 202005 CABA Comuna 5 2 53 46 194870 ## currency title property_type ## 1 USD Gascon al 100 Departamento ## 2 ARS Departamento - Abasto Departamento ## 3 ARS Departamento - Almagro Departamento ## 4 USD EXCELENTE DEPARTAMENTO DE 2 AMBIENTES EN ALMAGRO Departamento ## 5 USD Departamento de 2 ambientes en Venta en Almagro Departamento ## 6 USD Departamento de 2 ambientes en Venta en Almagro Departamento ## operation_type lat long ## 1 Venta -58.42453 -34.61118 ## 2 Alquiler -58.41387 -34.60423 ## 3 Alquiler -58.42686 -34.60213 ## 4 Venta -58.42427 -34.60462 ## 5 Venta -58.41797 -34.60381 ## 6 Venta -58.41797 -34.60381 filtro &lt;- filter(datos_amba, partido==&quot;Comuna 13&quot; | partido==&quot;Comuna 5&quot;) head(filtro) ## created_on provincia partido rooms surface_total surface_covered ## 1 202005 CABA Comuna 5 2 48 46 ## 2 202005 CABA Comuna 13 3 72 60 ## 3 202005 CABA Comuna 13 5 210 188 ## 4 202005 CABA Comuna 5 1 50 50 ## 5 202005 CABA Comuna 13 2 52 52 ## 6 202005 CABA Comuna 13 2 58 49 ## price currency ## 1 140000 USD ## 2 43000 ARS ## 3 645000 USD ## 4 30000 ARS ## 5 174500 USD ## 6 148400 USD ## title ## 1 Gascon al 100 ## 2 Belgrano - Alquiler Amoblado - Moderno y muy luminoso 3 ambientes ## 3 Soñado Piso Alto con Vista Abierta y Cochera en Torre de Categoría ## 4 Departamento - Abasto ## 5 Belgrano | Av. Franklin Roosevelt y Vuelta de Obligado | Departamento de 2 ambientes APTO PROFESIONAL. ## 6 Departamento - Belgrano ## property_type operation_type lat long ## 1 Departamento Venta -58.42453 -34.61118 ## 2 Departamento Alquiler -58.45642 -34.55490 ## 3 Departamento Venta -58.44608 -34.56458 ## 4 Departamento Alquiler -58.41387 -34.60423 ## 5 Departamento Venta -58.45972 -34.55677 ## 6 Departamento Venta -58.44741 -34.57244 filtro &lt;- filter(datos_amba, surface_total&gt;=100 &amp; operation_type==&quot;Alquiler&quot;) head(filtro) ## created_on provincia partido rooms surface_total surface_covered price ## 1 202005 GBA La Plata 8 840 325 85000 ## 2 202005 GBA Escobar 2 165 65 20000 ## 3 202005 CABA Comuna 12 4 150 125 45000 ## 4 202005 CABA Comuna 1 4 100 92 40000 ## 5 202005 CABA Comuna 14 3 100 73 52000 ## 6 202005 CABA Comuna 2 3 120 116 27000 ## currency ## 1 ARS ## 2 ARS ## 3 ARS ## 4 ARS ## 5 ARS ## 6 ARS ## title ## 1 San Facundo alquiler ## 2 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 3 Saavedra excelente ph tipo loft alo frente c/ coch. ## 4 Marcelo T de Alvear y Uruguay 100 m2 ## 5 ARCE 500 ## 6 Quintana al 300. Con o sin muebles ## property_type operation_type lat long ## 1 Casa Alquiler -58.04245 -34.89847 ## 2 Departamento Alquiler -58.73963 -34.44330 ## 3 PH Alquiler -58.48958 -34.55183 ## 4 Departamento Alquiler -58.38650 -34.59695 ## 5 Departamento Alquiler -58.42688 -34.56966 ## 6 Departamento Alquiler -58.38792 -34.59020 2.2 MODIFICAR modificar &lt;- mutate(datos_amba, price_m2=price/surface_covered) head(modificar) ## created_on provincia partido rooms surface_total surface_covered ## 1 202005 GBA La Plata 8 840 325 ## 2 202005 CABA Comuna 5 2 48 46 ## 3 202005 GBA Escobar 2 165 65 ## 4 202005 CABA Comuna 14 2 55 50 ## 5 202005 CABA Comuna 1 2 60 55 ## 6 202005 CABA Comuna 6 2 51 45 ## price currency ## 1 85000 ARS ## 2 140000 USD ## 3 20000 ARS ## 4 48000 ARS ## 5 19000 ARS ## 6 25000 ARS ## title ## 1 San Facundo alquiler ## 2 Gascon al 100 ## 3 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 4 Fray Justo Santa Maria de Oro al 2800 ## 5 2 ambientes de 60 m2 con amenities ## 6 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## property_type operation_type lat long price_m2 ## 1 Casa Alquiler -58.04245 -34.89847 261.5385 ## 2 Departamento Venta -58.42453 -34.61118 3043.4783 ## 3 Departamento Alquiler -58.73963 -34.44330 307.6923 ## 4 Departamento Alquiler -58.42125 -34.57589 960.0000 ## 5 Departamento Alquiler -58.39047 -34.60833 345.4545 ## 6 Departamento Alquiler -58.45344 -34.62673 555.5556 2.3 SELECCIONAR seleccion &lt;- select(datos_amba, created_on, provincia, price, currency) head(seleccion) ## created_on provincia price currency ## 1 202005 GBA 85000 ARS ## 2 202005 CABA 140000 USD ## 3 202005 GBA 20000 ARS ## 4 202005 CABA 48000 ARS ## 5 202005 CABA 19000 ARS ## 6 202005 CABA 25000 ARS seleccion &lt;- select(datos_amba, -title) head(seleccion) ## created_on provincia partido rooms surface_total surface_covered ## 1 202005 GBA La Plata 8 840 325 ## 2 202005 CABA Comuna 5 2 48 46 ## 3 202005 GBA Escobar 2 165 65 ## 4 202005 CABA Comuna 14 2 55 50 ## 5 202005 CABA Comuna 1 2 60 55 ## 6 202005 CABA Comuna 6 2 51 45 ## price currency property_type operation_type lat long ## 1 85000 ARS Casa Alquiler -58.04245 -34.89847 ## 2 140000 USD Departamento Venta -58.42453 -34.61118 ## 3 20000 ARS Departamento Alquiler -58.73963 -34.44330 ## 4 48000 ARS Departamento Alquiler -58.42125 -34.57589 ## 5 19000 ARS Departamento Alquiler -58.39047 -34.60833 ## 6 25000 ARS Departamento Alquiler -58.45344 -34.62673 seleccion &lt;- select(datos_amba, price:operation_type) head(seleccion) ## price currency ## 1 85000 ARS ## 2 140000 USD ## 3 20000 ARS ## 4 48000 ARS ## 5 19000 ARS ## 6 25000 ARS ## title ## 1 San Facundo alquiler ## 2 Gascon al 100 ## 3 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 4 Fray Justo Santa Maria de Oro al 2800 ## 5 2 ambientes de 60 m2 con amenities ## 6 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## property_type operation_type ## 1 Casa Alquiler ## 2 Departamento Venta ## 3 Departamento Alquiler ## 4 Departamento Alquiler ## 5 Departamento Alquiler ## 6 Departamento Alquiler seleccion &lt;- select(datos_amba, 7:10) head(seleccion) ## price currency ## 1 85000 ARS ## 2 140000 USD ## 3 20000 ARS ## 4 48000 ARS ## 5 19000 ARS ## 6 25000 ARS ## title ## 1 San Facundo alquiler ## 2 Gascon al 100 ## 3 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 4 Fray Justo Santa Maria de Oro al 2800 ## 5 2 ambientes de 60 m2 con amenities ## 6 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## property_type ## 1 Casa ## 2 Departamento ## 3 Departamento ## 4 Departamento ## 5 Departamento ## 6 Departamento seleccion &lt;- select(datos_amba, starts_with(&quot;p&quot;)) head(seleccion) ## provincia partido price property_type ## 1 GBA La Plata 85000 Casa ## 2 CABA Comuna 5 140000 Departamento ## 3 GBA Escobar 20000 Departamento ## 4 CABA Comuna 14 48000 Departamento ## 5 CABA Comuna 1 19000 Departamento ## 6 CABA Comuna 6 25000 Departamento seleccion &lt;- select(datos_amba, ends_with(&quot;e&quot;)) head(seleccion) ## price ## 1 85000 ## 2 140000 ## 3 20000 ## 4 48000 ## 5 19000 ## 6 25000 ## title ## 1 San Facundo alquiler ## 2 Gascon al 100 ## 3 Lindisimo departamento en alquiler . Complejo Civis Tortuguitas, dos ambientes con amenities ## 4 Fray Justo Santa Maria de Oro al 2800 ## 5 2 ambientes de 60 m2 con amenities ## 6 Impecable 2 amb c/cochera, SUM y parrilla - Subte A Carabobo ## property_type operation_type ## 1 Casa Alquiler ## 2 Departamento Venta ## 3 Departamento Alquiler ## 4 Departamento Alquiler ## 5 Departamento Alquiler ## 6 Departamento Alquiler seleccion &lt;- select(datos_amba, contains(&quot;surface&quot;)) head(seleccion) ## surface_total surface_covered ## 1 840 325 ## 2 48 46 ## 3 165 65 ## 4 55 50 ## 5 60 55 ## 6 51 45 2.4 RESUMIR a &lt;- mutate(a, price_m2=price/surface_covered) a &lt;- select(a, -price) summarise(a, price_m2=median(price_m2)) ## price_m2 ## 1 2529.412 a &lt;- group_by(a, partido) a &lt;- summarise(a, price_m2=median(price_m2)) a &lt;- arrange(a, desc(price_m2)) head(a) ## # A tibble: 6 x 2 ## partido price_m2 ## &lt;fct&gt; &lt;dbl&gt; ## 1 Comuna 14 3485. ## 2 Comuna 13 3374. ## 3 Comuna 2 3110. ## 4 Comuna 1 3071. ## 5 Comuna 12 2952. ## 6 San Isidro 2885. "],
["graficar.html", "Clase 3 GRAFICAR", " Clase 3 GRAFICAR library(tidyverse) datos_amba &lt;- read.csv(&quot;data/amba_properati.csv&quot;) ggplot()+ geom_bar(data=datos_amba, aes(x=partido, weight=price)) + coord_flip() ggplot()+ geom_point(data=datos_amba, aes(x=surface_covered, y=price)) ggplot()+ geom_point(data=datos_amba, aes(x=surface_covered, y=price)) + facet_wrap(~provincia) ggplot()+ geom_point(data=datos_amba, aes(x=long, y=lat)) ¿Tiene forma de AMBA? options(scipen=999) "],
["mapear.html", "Clase 4 MAPEAR", " Clase 4 MAPEAR Llegamos al final del curso y ahora nos toca mapear toda la información que estuvimos analizando las clases anteriores. Para esto vamos a tener que instalar un nuevo paquete llamado sf y luego activarlo con library() al igual que como lo veníamos haciendo con tidyverse: library(tidyverse) #install.packages(sf) library(sf) datos_amba &lt;- read.csv(&quot;data/amba_properati.csv&quot;) Descarguen el zip con el shape de los partidos de amba en el siguiente link https://data.world/angie-scetta/partidos-amba partidos_amba &lt;- st_read(&quot;data/partidos_amba.shp&quot;) ## Reading layer `partidos_amba&#39; from data source `E:\\03-OTROS\\SCA-CURSOS-2020\\sca-big-data-urbana\\data\\partidos_amba.shp&#39; using driver `ESRI Shapefile&#39; ## Simple feature collection with 144 features and 2 fields ## geometry type: MULTIPOLYGON ## dimension: XY ## bbox: xmin: -59.3392 ymin: -35.23893 xmax: -57.70946 ymax: -34.00243 ## CRS: 4326 mapear &lt;- datos_amba %&gt;% filter(operation_type==&quot;Venta&quot;, created_on==max(created_on)) mapear &lt;- mapear %&gt;% group_by(partido) %&gt;% summarise(cantidad=n(), price_m2=median(price/surface_covered)) partidos_amba &lt;- left_join(partidos_amba, mapear, by=c(&quot;nombre&quot;=&quot;partido&quot;)) ## Warning: Column `nombre`/`partido` joining factors with different levels, ## coercing to character vector ggplot()+ geom_sf(data=partidos_amba, aes(fill=price_m2)) ggplot()+ geom_sf(data=partidos_amba, aes(fill=price_m2), color=NA) + labs(title = &quot;Valor del m2 por Partido&quot;, subtitle = &quot;AMBA&quot;, fill = &quot;USD/m2&quot;, caption= &quot;Fuente: Properati&quot;)+ scale_fill_gradient(low=&quot;lightgoldenrodyellow&quot;, high=&quot;deeppink4&quot;) + theme_void() ggplot()+ geom_sf(data=partidos_amba, aes(fill=cantidad), color=NA) + labs(title = &quot;Propiedades en venta por Partido&quot;, subtitle = &quot;AMBA&quot;, fill = &quot;Cantidad&quot;, caption= &quot;Fuente: Properati&quot;)+ scale_fill_gradient(low=&quot;lightgoldenrodyellow&quot;, high=&quot;deeppink4&quot;) + theme_void() "]
]
